var te=Object.create;var C=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var re=Object.getOwnPropertyNames;var ne=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty;var ie=(e,t)=>{for(var r in t)C(e,r,{get:t[r],enumerable:!0})},S=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of re(t))!se.call(e,n)&&n!==r&&C(e,n,{get:()=>t[n],enumerable:!(i=oe(t,n))||i.enumerable});return e};var f=(e,t,r)=>(r=e!=null?te(ne(e)):{},S(t||!e||!e.__esModule?C(r,"default",{value:e,enumerable:!0}):r,e)),ae=e=>S(C({},"__esModule",{value:!0}),e);var fe={};ie(fe,{CatchAllNavigate:()=>X,DocumentTitleHandler:()=>Y,NavigateToResource:()=>V,RefineRoutes:()=>M,UnsavedChangesNotifier:()=>z,default:()=>F,stringifyConfig:()=>U,useDocumentTitle:()=>ee});module.exports=ae(fe);var b=f(require("react")),x=require("@refinedev/core"),d=require("react"),v=f(require("qs")),c=require("react-router-dom");var L=e=>{if(typeof e>"u")return e;let t=Number(e);return`${t}`===e?t:e};var U={addQueryPrefix:!0,skipNulls:!0,arrayFormat:"indices",encode:!1,encodeValuesOnly:!0},F={go:()=>{let{search:e,hash:t}=(0,c.useLocation)(),r=(0,c.useNavigate)();return(0,d.useCallback)(({to:n,type:s,query:o,hash:a,options:{keepQuery:p,keepHash:l}={}})=>{let u={...p&&e&&v.default.parse(e,{ignoreQueryPrefix:!0}),...o};u.to&&(u.to=encodeURIComponent(`${u.to}`));let h=Object.keys(u).length>0,y=`#${(a||l&&t||"").replace(/^#/,"")}`,P=y.length>1,I=`${n||""}${h?v.default.stringify(u,U):""}${P?y:""}`;return s==="path"?I:r(I,{replace:s==="replace"})},[t,e,r])},back:()=>{let e=(0,c.useNavigate)();return(0,d.useCallback)(()=>{e(-1)},[e])},parse:()=>{var p;let e=(0,c.useParams)(),{pathname:t,search:r}=(0,c.useLocation)(),{resources:i}=(0,d.useContext)(x.ResourceContext),{resource:n,action:s,matchedRoute:o}=b.default.useMemo(()=>(0,x.matchResourceFromRoute)(t,i),[i,t]);return Object.entries(e).length===0&&o&&(e=((p=(0,c.matchPath)(o,t))==null?void 0:p.params)||{}),(0,d.useCallback)(()=>{let l=v.default.parse(r,{ignoreQueryPrefix:!0}),u={...e,...l};return{...n&&{resource:n},...s&&{action:s},...(e==null?void 0:e.id)&&{id:decodeURIComponent(e.id)},pathname:t,params:{...u,current:L(u.current),pageSize:L(u.pageSize),to:u.to?decodeURIComponent(u.to):void 0}}},[t,r,e,n,s])},Link:b.default.forwardRef(function(t,r){return b.default.createElement(c.Link,{...t,ref:r})})};var A=f(require("react")),B=require("@refinedev/core");var k=f(require("react")),D=require("react-router-dom"),ue=(e,t)=>{let{name:r,list:i,create:n,show:s,edit:o}=e;if(typeof i=="string"&&t==="list")return i;if(typeof i=="object"&&t==="list")return i.path;if(typeof n=="string"&&t==="create")return n;if(typeof n=="object"&&t==="create")return n.path;if(typeof s=="string"&&t==="show")return s;if(typeof s=="object"&&t==="show")return s.path;if(typeof o=="string"&&t==="edit")return o;if(typeof o=="object"&&t==="edit")return o.path;let a=`/${r}`,p=`${["edit","create","clone","show"].includes(t)?t:""}`,l=`${["edit","show","clone"].includes(t)?":id":""}`;return[a,p,l].filter(Boolean).join("/")},j=e=>e.flatMap(r=>{let i=[];return["list","show","edit","create"].forEach(n=>{let s=r[n];if(typeof s<"u"&&typeof s!="string"){let o=typeof s=="function"?s:s.component,a=ue(r,n);i.push({action:n,element:o,path:a}),n==="create"&&i.push({action:"clone",element:o,path:a})}}),i.map(({action:n,element:s,path:o})=>{let a=k.default.createElement(s,null);return k.default.createElement(D.Route,{key:`${n}-${o}`,path:o,element:a})})});var H=require("react-router-dom"),M=({children:e})=>{let{resources:t}=(0,B.useResource)(),r=A.default.useMemo(()=>j(t),[t]);return e?e(r):A.default.createElement(H.Routes,null,r)};var N=require("@refinedev/core"),G=f(require("react")),Q=require("react-router-dom"),V=({resource:e,meta:t})=>{let r=(0,N.useGetToPath)(),{resource:i,resources:n}=(0,N.useResource)(e),s=i||n.find(o=>o.list);if(s){let o=r({resource:s,action:"list",meta:t});return o?G.default.createElement(Q.Navigate,{to:o}):(console.warn("No resource is found to navigate to."),null)}return console.warn("No resource is found to navigate to."),null};var E=f(require("react")),T=require("@refinedev/core");var g=f(require("react")),q=require("react-router-dom");function ce(e,t=!0){let{navigator:r}=g.default.useContext(q.UNSAFE_NavigationContext);g.default.useEffect(()=>{if(!t)return;let i=r.go,n=r.push;return r.push=(...s)=>{e()!==!1&&n(...s)},r.go=(...s)=>{e()!==!1&&i(...s)},()=>{r.push=n,r.go=i}},[r,e,t])}function K(e,t=!0,r,i=!1){let n=g.default.useCallback(o=>(o.preventDefault(),o.returnValue=e,o.returnValue),[e]);g.default.useEffect(()=>(t&&!i&&window.addEventListener("beforeunload",n),()=>{window.removeEventListener("beforeunload",n)}),[n,t,i]);let s=g.default.useCallback(()=>{let o=window.confirm(e);return o&&r&&r(),o},[e]);ce(s,t)}var O=require("react-router-dom"),z=({translationKey:e="warnWhenUnsavedChanges",message:t="Are you sure you want to leave? You have unsaved changes."})=>{let r=(0,T.useTranslate)(),{pathname:i}=(0,O.useLocation)(),{warnWhen:n,setWarnWhen:s}=(0,T.useWarnAboutChange)();E.default.useEffect(()=>()=>s==null?void 0:s(!1),[i]);let o=E.default.useMemo(()=>r(e,t),[e,t,r]);return K(o,n,()=>{s==null||s(!1)}),null};var J=f(require("react")),$=require("react-router-dom"),X=({to:e})=>{let{pathname:t,search:r}=(0,$.useLocation)(),i=`${t}${r}`,n=i.length>1?`?to=${encodeURIComponent(i)}`:"";return J.default.createElement($.Navigate,{to:`${e}${n}`})};var m=require("@refinedev/core"),R=f(require("react")),W=require("react-router-dom");function Y({handler:e}){var P;let t=(0,W.useLocation)(),{action:r,id:i,params:n,pathname:s,resource:o}=(0,m.useParsed)(),a=(0,m.useTranslate)(),p=(0,m.useUserFriendlyName)(),l=(o==null?void 0:o.identifier)??(o==null?void 0:o.name),h=(o==null?void 0:o.label)??((P=o==null?void 0:o.meta)==null?void 0:P.label)??p(l,r==="list"?"plural":"singular"),y=a(`${o==null?void 0:o.name}.${o==null?void 0:o.name}`,h);return(0,R.useLayoutEffect)(()=>{let w=(0,m.generateDefaultDocumentTitle)(a,o,r,`${i}`,h);e?document.title=e({action:r,resource:{...o??{},label:y,meta:{...o==null?void 0:o.meta,label:y}},params:n,pathname:s,autoGeneratedTitle:w}):document.title=w},[t]),R.default.createElement(R.default.Fragment,null)}var _=require("@refinedev/core"),Z=require("react"),ee=e=>{let t=(0,_.useTranslate)();return(0,Z.useEffect)(()=>{e&&(typeof e=="string"?document.title=t(e):document.title=t(e.i18nKey))},[e]),r=>{typeof r=="string"?document.title=t(r):document.title=t(r.i18nKey)}};
//# sourceMappingURL=index.cjs.map